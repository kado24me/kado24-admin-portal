<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="content(content)">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${title} ?: 'Kado24 Admin'"></title>
    <link rel="stylesheet" href="/webjars/bootstrap/5.3.3/css/bootstrap.min.css" />
    <link rel="stylesheet" th:href="@{/css/styles.css}" />
    <style>
        body { background: #f5f5f5; }
        .sidebar { width: 260px; background: #fff; border-right: 1px solid #e5e7eb; }
        .sidebar a { display:block; padding: 12px 16px; color: #374151; text-decoration: none; border-radius: 8px; margin: 6px 8px; }
        .sidebar a.active { background: #ebf3fd; color: #1d4ed8; font-weight: 600; }
        .topbar { background: #fff; border-bottom: 1px solid #e5e7eb; }
        .stat-card { background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:16px; }
    </style>
    <script src="/webjars/bootstrap/5.3.3/js/bootstrap.bundle.min.js" defer></script>
    <script src="/webjars/chart.js/4.4.4/dist/chart.umd.js" defer></script>
    <script>
        window.addEventListener('DOMContentLoaded', () => {
            const active = document.body.dataset.page;
            if (active) {
                const link = document.querySelector(`.sidebar a[data-page="${active}"]`);
                if (link) link.classList.add('active');
            }
        });
    </script>
</head>
<body th:attr="data-page=${page}">
<div class="d-flex" style="min-height:100vh;">
    <nav class="sidebar p-3">
        <div class="h5 fw-bold text-danger mb-3">Kado24 Admin</div>
        <a th:href="@{/}" data-page="dashboard">Dashboard</a>
        <a th:href="@{/merchants}" data-page="merchants">Merchant Verification</a>
        <a th:href="@{/transactions}" data-page="transactions">Transactions</a>
        <a th:href="@{/fraud}" data-page="fraud">Fraud Detection</a>
        <a th:href="@{/users}" data-page="users">Users</a>
        <a th:href="@{/reports}" data-page="reports">Reports</a>
        <form th:action="@{/logout}" method="post" class="mt-3">
            <button class="btn btn-outline-secondary w-100">Logout</button>
        </form>
    </nav>
    <main class="flex-grow-1">
        <div class="topbar d-flex justify-content-between align-items-center px-4 py-2">
            <div class="fw-semibold" th:text="${title} ?: 'Admin Portal'"></div>
            <div class="text-muted small" th:text="${username} ?: 'Admin User'"></div>
        </div>
        <div class="container-fluid p-4">
            <th:block th:replace="${content}"></th:block>
        </div>
    </main>
  </div>
</body>
</html>


